From: Russell Coker <russell@coker.com.au>
Date: Sun, 26 Feb 2012 19:39:24 +0100
Subject: manpages

---
 audit2why/audit2why.1   |    2 +-
 mcstrans/man/man8/mcs.8 |    2 +-
 semanage/semanage.8     |   13 ++++++-------
 setfiles/restorecon.8   |   10 ++++++++++
 setfiles/setfiles.8     |    9 ++++++++-
 5 files changed, 26 insertions(+), 10 deletions(-)

diff --git a/audit2why/audit2why.1 b/audit2why/audit2why.1
index a9e8893..b369e44 100644
--- a/audit2why/audit2why.1
+++ b/audit2why/audit2why.1
@@ -1 +1 @@
-.so man1/audit2allow.1
+.so man1/audit2allow.1.gz
diff --git a/mcstrans/man/man8/mcs.8 b/mcstrans/man/man8/mcs.8
index 44126bf..aeaf22e 100644
--- a/mcstrans/man/man8/mcs.8
+++ b/mcstrans/man/man8/mcs.8
@@ -20,7 +20,7 @@ readable form.   Administrators can define any labels they want in this file.
 Certain applications like printing and auditing will use these labels to 
 identify the files.  By setting a category on a file you will prevent 
 other applications/services from having access to the files.
-.p
+.P
 Examples of file labels would be PatientRecord, CompanyConfidential etc.
 
 .SH "SEE ALSO"
diff --git a/semanage/semanage.8 b/semanage/semanage.8
index c5e18d9..d2acdff 100644
--- a/semanage/semanage.8
+++ b/semanage/semanage.8
@@ -5,11 +5,11 @@ semanage \- SELinux Policy Management tool
 .SH "SYNOPSIS"
 Output local customizations
 .br
-.B semanage [ -S store ] -o [ output_file | - ]
+.B semanage [ -S store ] \-o [ output_file | \- ]
 
 Input local customizations
 .br
-.B semanage [ -S store ] -i [ input_file | - ]
+.B semanage [ -S store ] \-i [ input_file | \- ]
 
 Manage booleans.  Booleans allow the administrator to modify the confinement of
 processes based on his configuration.
@@ -165,13 +165,13 @@ Take a set of commands from a specified file and load them in a single
 transaction.
 .TP
 .I                \-o, \-\-output
-Output all local customizations into a file. This file than can be used with the semanage -i command to customize other machines to match the local machine.
+Output all local customizations into a file. This file than can be used with the semanage \-i command to customize other machines to match the local machine.
 
 .SH EXAMPLE
 .nf
 .B SELinux user
 List SELinux users
-# semanage user -l
+# semanage user \-l
 
 .B SELinux login
 Change joe to login as staff_u
@@ -179,8 +179,7 @@ Change joe to login as staff_u
 Change the group clerks to login as user_u
 # semanage login -a -s user_u %clerks
 
-.B File contexts
-.i remember to run restorecon after you set the file context
+.B File contexts remember to run restorecon after you set the file context
 Add file-context for everything under /web
 # semanage fcontext -a -t httpd_sys_content_t "/web(/.*)?"
 # restorecon -R -v /web
@@ -213,7 +212,7 @@ to second and import them.
 # semanage -o /tmp/local.selinux
 # scp /tmp/local.selinux secondmachine:/tmp
 # ssh secondmachine
-# semanage -i /tmp/local.selinux
+# semanage \-i /tmp/local.selinux
 
 If these customizations include file context, you need to apply the
 context using restorecon.
diff --git a/setfiles/restorecon.8 b/setfiles/restorecon.8
index c8ea4bb..86cd83c 100644
--- a/setfiles/restorecon.8
+++ b/setfiles/restorecon.8
@@ -20,6 +20,10 @@ This program is primarily used to set the security context
 It can be run at any time to correct errors, to add support for
 new policy, or with the \-n option it can just check whether the file
 contexts are all as you expect.
+.P
+It is the same executable as
+.BR setfiles
+but operates in a slightly different manner depending on it's argv[0].
 
 .SH "OPTIONS"
 .TP 
@@ -49,10 +53,16 @@ show changes in file labels.
 .TP 
 .B \-vv
 show changes in file labels, if type, role, or user are changing.
+.TP
+.B \-p
+show a progress indication in the form of one dot per 1000 files.
 .TP 
 .B \-F
 Force reset of context to match file_context for customizable files, or the user section, if it has changed. 
 .TP 
+.B \-0
+Input items are terminated by a null character instead of by whitespace,  and the quotes and backslash are not special (every character is taken literally).  Disables the end of file string, which  is  treated  like  any other argument.  Useful when input items might contain white space, quote  marks,  or  backslashes.The  GNU  find  -print0  option produces input suitable for this mode.
+
 .SH "ARGUMENTS"
 .B pathname...
 The pathname for the file(s) to be relabeled. 
diff --git a/setfiles/setfiles.8 b/setfiles/setfiles.8
index 7f700ca..e28e9c2 100644
--- a/setfiles/setfiles.8
+++ b/setfiles/setfiles.8
@@ -4,7 +4,7 @@ setfiles \- set file SELinux security contexts.
 
 .SH "SYNOPSIS"
 .B setfiles
-.I [\-c policy ] [\-d] [\-l] [\-n] [\-e directory ] [\-o filename ] [\-q] [\-s] [\-v] [\-vv] [\-W] [\-F] spec_file pathname...
+.I [\-c policy ] [\-d] [\-l] [\-n] [\-e directory ] [\-o filename ] [\-q] [\-s] [\-v] [\-vv|\-p] [\-W] [\-F] spec_file pathname...
 .SH "DESCRIPTION"
 This manual page describes the
 .BR setfiles
@@ -17,6 +17,10 @@ program is initially run as part of the SE Linux installation process.
 It can also be run at any time to correct errors, to add support for
 new policy, or with the \-n option it can just check whether the file
 contexts are all as you expect.
+.P
+It is the same executable as 
+.BR setfiles
+but operates in a slightly different manner depending on it's argv[0].
 
 .SH "OPTIONS"
 .TP 
@@ -60,6 +64,9 @@ show changes in file labels, if type or role are changing.
 .B \-vv
 show changes in file labels, if type, role, or user are changing.
 .TP 
+.B \-p
+show a progress indication in the form of one dot per 1000 files.
+.TP
 .B \-W
 display warnings about entries that had no matching files.
 .TP 
